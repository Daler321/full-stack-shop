{"version":3,"file":"static/js/138.646e18b9.chunk.js","mappings":"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","sources":["components/elements/pagenation/pagenation.styles.tsx","components/elements/pagenation/pagenation.component.tsx","components/features/page/page.styles.tsx","components/features/page/page.component.tsx","routes/search-page/search-page.tsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const PagesContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  padding: 15px;\n  justify-content: center;\n  align-items: center;\n  margin: 20px auto;\n  max-width: 500px;\n\n  .work {\n    background: rgba(0, 0, 0, 0.07);\n    border: 3px solid grey;\n    color: #00000075;\n    cursor: auto;\n\n    &:hover {\n      filter: none;\n    }\n\n    &:active {\n      transform: none;\n    }\n  }\n`;\n\nexport const PageNum = styled.span`\n  margin: auto;\n  user-select: none;\n  text-align: center;\n  font-size: 20px;\n  border: 2px solid lightgray;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  padding: 15px;\n  cursor: pointer;\n  transition: 30ms;\n\n  &:hover {\n    filter: brightness(80%);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  @media screen and (max-width: 500px) {\n    padding: 10px;\n    font-size: 14px;\n    width: 14px;\n    height: 14px;\n  }\n`;\n","import React, { FC, useState } from 'react';\n\nimport CustomButton from '../custom-button/custom-button.component';\n\nimport { PageNum, PagesContainer } from './pagenation.styles';\n\ninterface IPagenationProps {\n  itemsQuantity: number;\n  limit: number;\n  currentPage: number;\n  chosePage: (page: number) => void;\n}\n\nconst Pagenation: FC<IPagenationProps> = ({\n  itemsQuantity,\n  limit,\n  chosePage,\n  currentPage,\n}) => {\n  const pages = Array(Math.round(itemsQuantity / limit))\n    .fill(1)\n    .map((n, i) => n + i);\n\n  const pageFilter = (page: number): boolean => {\n    if (currentPage - 2 <= 0) return page <= 5;\n    if (currentPage + 2 >= pages.length) return page > pages.length - 4;\n    return page >= currentPage - 1 && page < currentPage + 3;\n  };\n\n  const changePageHandler = (page: number): void => {\n    chosePage(page);\n  };\n\n  const prevPageHandler = (): void => {\n    chosePage(currentPage - 1);\n  };\n\n  const nextPageHandler = (): void => {\n    chosePage(currentPage + 1);\n  };\n\n  return (\n    <PagesContainer>\n      <CustomButton onClick={prevPageHandler} disabled={currentPage === 1}>\n        prev\n      </CustomButton>\n      <PageNum\n        key={1}\n        onClick={() => changePageHandler(1)}\n        className={(1 === currentPage && ' work') || ''}\n      >\n        {1}\n      </PageNum>\n      {currentPage > 3 && <span>...</span>}\n      {pages\n        .filter((page) => pageFilter(page))\n        .map((pageNum) => {\n          if (pageNum === 1) return null;\n          return (\n            <PageNum\n              key={pageNum}\n              onClick={() => changePageHandler(pageNum)}\n              className={(pageNum === currentPage && 'work') || ''}\n            >\n              {pageNum}\n            </PageNum>\n          );\n        })}\n      <CustomButton\n        onClick={nextPageHandler}\n        disabled={currentPage === pages.length}\n      >\n        next\n      </CustomButton>\n    </PagesContainer>\n  );\n};\n\nexport default Pagenation;\n","import styled from 'styled-components';\n\nexport const ProductsContainer = styled.div`\n  display: grid;\n  grid-template-columns: repeat(4, 22%);\n  row-gap: 45px;\n  column-gap: 2.3%;\n  justify-content: center;\n  /* max-width: 100%; */\n  /* overflow-x: hidden; */\n\n  .popular {\n    grid-area: 1 / 1 / 1 / span 2;\n    display: grid;\n    grid-template-columns: 3fr 2fr;\n    grid-template-rows: repeat(3, 1fr);\n\n    img {\n      width: 90%;\n      height: auto;\n      grid-column-start: 1;\n      grid-row-start: 1;\n      grid-row-end: 4;\n      margin: auto;\n      display: block;\n      overflow: hidden;\n\n      transform: none;\n    }\n\n    h1 {\n      max-height: 100%;\n    }\n\n    .popprice {\n      position: unset;\n      display: flex;\n      flex-direction: column;\n      padding: 5px;\n      align-items: center;\n\n      span {\n        font-size: 20px;\n      }\n\n      .btnadd {\n        /* width: 100%; */\n      }\n    }\n  }\n\n  @media screen and (max-width: 1250px) {\n    grid-template-columns: repeat(3, 30%);\n    column-gap: 2.5%;\n    row-gap: 30px;\n  }\n\n  @media screen and (max-width: 950px) {\n    grid-template-columns: repeat(2, 45%);\n    column-gap: 3%;\n    row-gap: 20px;\n  }\n\n  @media screen and (max-width: 650px) {\n    .btnadd {\n      margin: 0;\n    }\n  }\n`;\n","import React, { FC } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { IProduct } from '../../../types/products.api.interface';\n\nimport Pagenation from '../../elements/pagenation/pagenation.component';\nimport ProductItem from '../product-item/product-item.component';\n\nimport { ProductsContainer } from './page.styles';\n\ntype pageParams = {\n  route: string;\n  page: string;\n  products?: IProduct[];\n  error: boolean;\n  isLoading: boolean;\n  total?: number;\n  limit: number;\n  name?: string;\n  needPopular?: boolean;\n};\n\nconst Page: FC<pageParams> = ({\n  route,\n  page,\n  products = [],\n  isLoading,\n  error,\n  total = 1,\n  limit,\n  name = '',\n  needPopular = false,\n}) => {\n  const nav = useNavigate();\n\n  const mostPopular = products.reduce((acc, product, i) => {\n    return (product.rating > products[acc].rating && i) || acc;\n  }, 0);\n\n  const chosePage = (page: number): void => {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n    name ? nav(`/${route}/${name}/${page}`) : nav(`/${route}/${page}`);\n  };\n\n  return (\n    <div>\n      <ProductsContainer>\n        {isLoading && <h1>Loading...</h1>}\n        {error && <h1>Something went wrong</h1>}\n        {products.map((product, i) => (\n          <ProductItem\n            key={product.id}\n            item={product}\n            className={(needPopular && i === mostPopular && 'popular') || ''}\n          />\n        ))}\n      </ProductsContainer>\n\n      <Pagenation\n        currentPage={Number(page)}\n        itemsQuantity={total}\n        chosePage={chosePage}\n        limit={limit}\n      />\n    </div>\n  );\n};\n\nexport default Page;\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { productsAPI } from '../../store/products/products.api';\n\nimport Page from '../../components/features/page/page.component';\n\ntype SearchRouteParams = {\n  query: string;\n  page: string;\n};\n\nconst SearchPage = () => {\n  const { query } = useParams<keyof SearchRouteParams>() as SearchRouteParams;\n  const { page } = useParams<keyof SearchRouteParams>() as SearchRouteParams;\n  const limit = 5;\n\n  const { data, isLoading, error } = productsAPI.useFetchSearchQuery({\n    page: Number(page),\n    limit,\n    query,\n  });\n\n  return (\n    <div>\n      <h1>{`Results on '${query}' search`}</h1>\n\n      {!isLoading && data?.total === 0 && <h1>Sorry, nothing was found</h1>}\n      <Page\n        route={'category'}\n        page={page}\n        products={data?.products}\n        isLoading={isLoading}\n        error={Boolean(error)}\n        total={data?.total}\n        limit={limit}\n      />\n    </div>\n  );\n};\n\nexport default SearchPage;\n"],"names":["PagesContainer","styled","div","_templateObject","_taggedTemplateLiteral","PageNum","span","_templateObject2","_ref","itemsQuantity","limit","chosePage","currentPage","pages","Array","Math","round","fill","map","n","i","changePageHandler","page","_jsxs","children","_jsx","CustomButton","onClick","prevPageHandler","disabled","className","filter","length","pageFilter","pageNum","nextPageHandler","ProductsContainer","route","products","isLoading","error","total","name","needPopular","nav","useNavigate","mostPopular","reduce","acc","product","rating","ProductItem","item","id","Pagenation","Number","window","scrollTo","top","left","behavior","concat","SearchPage","query","useParams","data","productsAPI","useFetchSearchQuery","Page","Boolean"],"sourceRoot":""}